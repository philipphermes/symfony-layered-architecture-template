#!/bin/bash
set -e

# 1. Build and start containers in detached mode
docker-compose up -d --build

# 2. Start Symfony server inside the container in the background
docker-compose exec -d app bash -c "symfony server:start --no-tls --allow-http --allow-all-ip --port=8000"

# 3. Open an interactive bash shell inside the container
docker-compose exec app bash
